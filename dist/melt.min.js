!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Melt",[],t):"object"==typeof exports?exports.Melt=t():e.Melt=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return(0,s.default)(e)}var o=n(1),a=r(o),u=n(33),c=n(23),s=r(c);i.createElement=a.default,i.component=u.registerComponent,i.container=u.registerContainer,i.directive=u.registerDirective,i.app=i,e.exports=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e){var t=this;this._options=e,this._renderFn=e.render;var r=e.props||{};this._propsSpec={},(0,v.isArray)(r)?(0,v.each)(r,function(e){t._propsSpec[e]=!0}):this._propsSpec=r,n.call(this)}if(!e.render&&!e.template)throw new Error("Components need to have either a render function or a template to get rendered");var n=e.class||v.noop;return t.prototype=Object.create(n.prototype,{constructor:t}),t.prototype.render=function(t){var n=this;return this._options.isContainer&&(0,v.each)(t,function(e,t){n[t]=e}),this._options.template&&(0,v.each)(this.props,function(e,t){n._propsSpec[t]&&(n[t]=e)}),this._renderFn||(this._renderFn=(0,u.default)(this._options.template),e.render=this._renderFn),this._renderFn({createElement:o,renderCollection:h.renderCollection,range:v.range,component:this})},t.prototype.patch=function(e){e=e||{component:this};var t=this._vnode,n=this.render(e),r=this.elem;return r=r?(0,f.default)(r,t,n,e):(0,s.default)(n,e),this.elem=n.elem,this._vnode=n,r},new t(e)}function o(e,t){for(var n=(0,v.isObject)(e)?e:(0,m.getComponent)(e),r=n?i(n):e,o=arguments.length,a=Array(o>2?o-2:0),u=2;u<o;u++)a[u-2]=arguments[u];var c=(0,p.default)(r,t,a);return t&&c.addLifecycleEventListener(new y.DirectiveHandler),c}Object.defineProperty(t,"__esModule",{value:!0}),t.createComponent=i,t.default=o;var a=n(2),u=r(a),c=n(32),s=r(c),l=n(20),f=r(l),d=n(22),p=r(d),v=n(3),h=n(10),y=n(29),m=n(31)},function(e,t,n){"use strict";function r(e){var t=(0,a.parse)(e),n=(0,u.generate)(t);return i(n)}function i(e){try{return new Function("$ctx",";var _h = $ctx.createElement, _c = $ctx.renderCollection, range = $ctx.range;\n        with($ctx.component){return "+e+"};")}catch(t){return(0,o.warn)("Syntax error:"+e),o.noop}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(3),a=n(8),u=n(14)},function(e,t,n){"use strict";function r(){}function i(e){for(var t={},n=e.split(","),r=0;r<n.length;r++)t[n[r]]=!0;return t}function o(){var e=Date.now();return e<=o.previous?e=++o.previous:o.previous=e,e}function a(e,t,n){"undefined"==typeof t&&(t=e,e=0),"undefined"==typeof n&&(n=1);for(var r=-1,i=Math.max(Math.ceil((t-e)/(n||1)),0),o=Array(i);i--;)o[++r]=e,e+=n;return o}Object.defineProperty(t,"__esModule",{value:!0});var u=n(4);Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})});var c=n(5);Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}})});var s=n(6);Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}})});var l=n(7);Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}})}),t.noop=r,t.makeMap=i,t.uniqueId=o,t.range=a,o.previous=0},function(e,t){"use strict";function n(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];i&&console.warn.apply(console,t)}function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];i&&console.error.apply(console,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.warn=n,t.error=r;var i="undefined"!=typeof console},function(e,t){"use strict";function n(e){return"string"==typeof e||e instanceof String}function r(e){return"number"==typeof e}function i(e){return null===e}function o(e){return"undefined"==typeof e}function a(e){return u(e)||"object"===("undefined"==typeof e?"undefined":v(e))&&!!e}function u(e){return"function"==typeof e}function c(e){return"boolean"==typeof e}function s(e,t){return g.call(e,t)}function l(e){if(!a(e))return[];if(m)return m(e);var t=[];for(var n in e)s(e,n)&&t.push(n);return t}function f(e){for(var t=[],n=l(e),r=0;r<n.length;r++){var i=n[r];s(e,i)&&t.push(e[i])}return t}function d(e,t){if(b(e))for(var n=0;n<e.length;n++)t(e[n],n);else if(a(e))for(var r=l(e),i=0;i<r.length;i++){var o=r[i];t(e[o],o,e)}}function p(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(null==e||0===n.length)return e;for(var i=0;i<n.length;i++)for(var a=n[i],u=l(n[i]),c=0;c<u.length;c++){var s=u[c],f=a[s];o(f)||(e[s]=f)}return e}Object.defineProperty(t,"__esModule",{value:!0});var v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.isString=n,t.isNumber=r,t.isNull=i,t.isUndefined=o,t.isObject=a,t.isFunction=u,t.isBoolean=c,t.has=s,t.getKeys=l,t.getValues=f,t.each=d,t.extend=p;var h=Object.prototype,y=h.toString,m=Object.keys,b=t.isArray=Array.isArray||function(e){return"[object Array]"===y.call(e)},g=h.hasOwnProperty},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(5),a=(0,o.isUndefined)(Uint32Array)?Array:Uint32Array,u=function(){function e(t){r(this,e),this.bits=new a(Math.ceil(t/32))}return i(e,[{key:"setBit",value:function(t){var n=e.id(t);this.bits[n.p]|=1<<n.r}},{key:"clearBit",value:function(t){var n=e.id(t);this.bits[n.p]&=~(1<<n.r)}},{key:"getBit",value:function(t){var n=e.id(t);return!!(this.bits[n.p]&1<<n.r)}}],[{key:"id",value:function(e){var t=e%32,n=(e-t)/32;return{r:t,p:n}}}]),e}();t.default=u},function(e,t){"use strict";function n(e){return e.replace(/(-[a-z])/g,function(e){return e.toUpperCase().replace("-","")})}function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}Object.defineProperty(t,"__esModule",{value:!0}),t.camelize=n,t.capitalize=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=void 0,n=void 0,r=[],i=!1;return(0,l.parseHtml)(e,{start:function(e,c,l){var d=e.toLowerCase();if((0,f.isSpecialTag)(d))throw new Error("Tag is not allowed in the template:"+e);"pre"===d&&(i=!0),s(t,n);var p={type:h.AstElementType.Element,tagName:d,attrList:c,attributes:o(c),children:[]};p.attributes[h.AstDirective.Each]&&u(p),p.attributes[h.AstDirective.If]&&a(p),t||(t=p),n&&n.children.push(p),l||(n=p,r.push(p))},end:function(){var e=r[r.length-1];r.pop(),"pre"===e.tagName&&(i=!1),n=r.length>0?r[r.length-1]:null},chars:function(e){if(i||(e=e.trim()),0!==e.length){s(t,n);var r=(0,v.default)(e),o={type:h.AstElementType.Text,rawValue:e,tokens:r};t||(t=n={type:h.AstElementType.Element,tagName:"span",children:[]}),n&&n.children.push(o)}}}),t}function o(e){var t={};return(0,d.each)(e,function(e){var n=(0,v.default)(e.value.trim()),r=void 0;if(m.test(e.name))r=e.name;else if(e.name.indexOf(".")!==-1){var i=e.name.split(b);i[0]=(0,d.camelize)(i[0]),r=i.join(b)}else r=(0,d.camelize)(e.name);(0,d.has)(t,r)&&(0,d.warn)("Found a duplicated attribute, name: "+e.name+", value:"+e.value);var o={rawName:e.name,rawValue:e.value,tokens:n};t[r]=o}),t}function a(e){var t=e.attributes[h.AstDirective.If];delete e.attributes[h.AstDirective.If],c(t,h.AstDirective.If)&&(e.if={condition:t.tokens[0].token})}function u(e){var t=e.attributes[h.AstDirective.Each];if(delete e.attributes[h.AstDirective.Each],c(t,h.AstDirective.Each)){var n=t.tokens[0].token;y.lastIndex=0;var r=y.exec(n);r?e.each={variables:r[1].split(",").join(","),object:r[2]}:(0,d.error)("Invalid each statement: "+n)}}function c(e,t){return e.rawValue?1===e.tokens.length||((0,d.warn)("The Expression of directive "+t+": "+e.rawValue+" is invalid"),!1):((0,d.warn)(t+" directive cannot be empty"),!1)}function s(e,t){if(!t&&e)throw new Error("Component template can only have one root element")}Object.defineProperty(t,"__esModule",{value:!0}),t.parse=i;var l=n(9),f=n(10),d=n(3),p=n(12),v=r(p),h=n(13),y=/^\s*\(?(\s*\w*\s*,?\s*\w*\s*)\)?\s+in\s+(.+)$/,m=/^data-|^aria-/,b="."},function(e,t,n){"use strict";function r(e,t){function n(e,n,o,a){if(n=n.toLowerCase(),l[n])for(;i.last()&&f[i.last()];)r("",i.last());if(d[n]&&i.last()===n&&r("",n),a=s[n]||!!a,a||i.push(n),t.start){var u=[];o.replace(c,function(e,t){var n=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:p[t]?t:"";u.push({name:t,value:n,escaped:n.replace(/(^|[^\\])"/g,'$1\\"')})}),t.start&&t.start(n,u,a)}}function r(e,n){var r=void 0;if(n)for(r=i.length-1;r>=0&&i[r]!==n;r--);else r=0;if(r>=0){for(var o=i.length-1;o>=r;o--)t.end&&t.end(i[o]);i.length=r}}var i=[],v=e;for(i.last=function(){return this[this.length-1]};e;){var h=void 0,y=void 0,m=void 0;if(y=!0,i.last()&&(0,o.isSpecialTag)(i.last()))e=e.replace(new RegExp("([\\s\\S]*?)</"+i.last()+"[^>]*>"),function(e,n){return n=n.replace(/<!--([\s\S]*?)-->|<!\[CDATA\[([\s\S]*?)]]>/g,"$1$2"),t.chars&&t.chars(n),""}),r("",i.last());else if(0===e.indexOf("<!--")?(h=e.indexOf("-->"),h>=0&&(t.comment&&t.comment(e.substring(4,h)),e=e.substring(h+3),y=!1)):0===e.indexOf("</")?(m=e.match(u),m&&(e=e.substring(m[0].length),m[0].replace(u,r),y=!1)):0===e.indexOf("<")&&(m=e.match(a),m&&(e=e.substring(m[0].length),m[0].replace(a,n),y=!1)),y){h=e.indexOf("<");var b=h<0?e:e.substring(0,h);e=h<0?"":e.substring(h),t.chars&&t.chars(b)}if(e===v)throw Error("Parse Error: "+e);v=e}r()}Object.defineProperty(t,"__esModule",{value:!0}),t.parseHtml=r;var i=n(3),o=n(10),a=/^<([-A-Za-z0-9_]+)((?:\s+[a-zA-Z_:][-a-zA-Z0-9_:.*]*(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,u=/^<\/([-A-Za-z0-9_]+)[^>]*>/,c=/([a-zA-Z_:][-a-zA-Z0-9_:.*]*)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,s=(0,i.makeMap)("area,base,basefont,br,col,frame,hr,img,input,link,meta,param,embed,command,keygen,source,track,wbr"),l=(0,i.makeMap)("address,article,applet,aside,audio,blockquote,button,canvas,center,dd,del,dir,div,dl,dt,fieldset,figcaption,figure,footer,form,frameset,h1,h2,h3,h4,h5,h6,header,hgroup,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,output,p,pre,section,script,table,tbody,td,tfoot,th,thead,tr,ul,video"),f=(0,i.makeMap)("abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),d=(0,i.makeMap)("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),p=(0,i.makeMap)("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected")},function(e,t,n){"use strict";function r(e,t){var n=[];return(0,o.each)(e,function(e,r){n.push(t(e,r))}),n}Object.defineProperty(t,"__esModule",{value:!0});var i=n(11);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})}),t.renderCollection=r;var o=n(3)},function(e,t,n){"use strict";function r(e){return(0,u.has)(c,e)}function i(e){if(e.indexOf(":")===-1)return null;var t=e.split(":",1)[0];if((0,u.has)(s,t))return s[t];throw new Error('svg-attribute-namespace: prefix "'+t+'" is not supported by SVG.')}function o(e){return l[e]}function a(e){return f[e]}Object.defineProperty(t,"__esModule",{value:!0}),t.namespaceMap=void 0,t.isSvgElement=r,t.getSvgAttributeNamespace=i,t.isSpecialTag=o,t.isUnaryTag=a;var u=n(3),c=(t.namespaceMap={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},(0,u.makeMap)("animate,circle,defs,ellipse,g,line,linearGradient,mask,path,pattern,polygon,polyline,radialGradient,rect,stop,svg,text,tspan")),s={ev:"http://www.w3.org/2001/xml-events",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},l=(0,u.makeMap)("script,style"),f=(0,u.makeMap)("area,base,basefont,br,col,frame,hr,img,input,link,meta,param,embed,command,keygen,source,track,wbr")},function(e,t,n){"use strict";function r(e){return"\\\\\\"+e}function i(e){return e.replace(d,c).replace(p,s)}function o(e){if(!e.length||e.indexOf(c)===-1)return[{token:i(e),type:u.AstTokenType.Literal}];for(var t=e.length,n=[],r=0;r<t;){var o=void 0,d=void 0,p=void 0,v=void 0;if((o=e.indexOf(c,r))===-1||(d=e.indexOf(s,o+l))===-1){r!==e.length&&(p=i(e.substring(r)),n.push({token:p,type:u.AstTokenType.Literal}));break}r!==o&&(p=i(e.substring(r,o)),n.push({token:p,type:u.AstTokenType.Literal}));var h=a(e,d);h!==-1&&(d=h),v=e.substring(o+l,d),n.push({token:v,type:u.AstTokenType.Expr}),r=d+f}return n}function a(e,t){for(var n=-1,r=t;r<e.length&&e[r]!==c;)e[r]===s?(n=r,r+=f):r++;return n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var u=n(13),c="{",s="}",l=c.length,f=s.length,d=new RegExp(c.replace(/./g,r),"g"),p=new RegExp(s.replace(/./g,r),"g")},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AstElementType={Element:1,Text:2},t.AstTokenType={Literal:0,Expr:1},t.AstDirective={If:"if",Each:"each"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return o(e)}function o(e){if(e.type===l.AstElementType.Element){var t='_h("'+e.tagName+'",'+a(e)+","+u(e)+")";return e.each&&(t="_c("+e.each.object+",function("+e.each.variables+"){return "+t+"})"),e.if&&(t="("+e.if.condition+")?"+t+":null"),t}return c(e.tokens)}function a(e){var t=[];return(0,f.each)(e.attributes,function(e,n){if(v[n]&&1===e.tokens.length){var r=v[n],i=s(e.tokens[0].token);i?t.push('"'+r+'":'+i):(0,f.warn)("Invalid value found for "+e.rawName)}else{var o=c(e.tokens);t.push('"'+n+'":'+o)}}),"{"+t.join(",")+"}"}function u(e){if(!e.children)return"[]";var t=e.children,n=t.map(function(e){return o(e)});return"["+n.join(",")+"]"}function c(e){return(e||[]).map(function(e){return e.type===l.AstTokenType.Literal?JSON.stringify(e.token):"("+e.token+")"}).join("+")}function s(e){h.lastIndex=0;var t=h.exec(e);if(!t)return null;var n=t.length>=3&&t[2],r=n?e:e+"($event)";return"(function($event){"+r+"}).bind(this)"}Object.defineProperty(t,"__esModule",{value:!0}),t.generate=i;var l=n(13),f=n(3),d=n(15),p=r(d),v={};(0,f.each)(p.default,function(e,t){v["on"+(0,f.capitalize)(e)]=t});var h=/([^()]+)(\(.*\))?/},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={onAbort:"abort",onAnimationStart:"animationstart",onAnimationIteration:"animationiteration",onAnimationEnd:"animationend",onBlur:"blur",onCanPlay:"canplay",onCanPlayThrough:"canplaythrough",onChange:"change",onClick:"click",onContextMenu:"contextmenu",onCopy:"copy",onCut:"cut",onDoubleClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragEnter:"dragenter",onDragExit:"dragexit",onDragLeave:"dragleave",onDragOver:"dragover",onDragStart:"dragstart",onDrop:"drop",onDurationChange:"durationchange",onEmptied:"emptied",onEncrypted:"encrypted",onEnded:"ended",onError:"error",onFocus:"focus",onInput:"input",onInvalid:"invalid",onKeyDown:"keydown",onKeyPress:"keypress",onKeyUp:"keyup",onLoad:"load",onLoadedData:"loadeddata",onLoadedMetadata:"loadedmetadata",onLoadStart:"loadstart",onPause:"pause",onPlay:"play",onPlaying:"playing",onProgress:"progress",onMouseDown:"mousedown",onMouseEnter:"mouseenter",onMouseLeave:"mouseleave",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPaste:"paste",onRateChange:"ratechange",onReset:"reset",onScroll:"scroll",onSeeked:"seeked",onSeeking:"seeking",onSubmit:"submit",onStalled:"stalled",onSuspend:"suspend",onTimeUpdate:"timeupdate",onTransitionEnd:"transitionend",onTouchCancel:"touchcancel",onTouchEnd:"touchend",onTouchMove:"touchmove",onTouchStart:"touchstart",onVolumeChange:"volumechange",onWaiting:"waiting",onWheel:"wheel"}},,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){var n={props:e.attributes,children:e.children},r=void 0;return(0,u.isFunction)(e.component)?r=e.renderFn(n):((0,u.extend)(e.component,n),r=e.renderFn.call(e.component,t)),r}function o(e){return e.map(function(e,t){var n=(0,u.isNull)(e)?t:e.key||t;return{key:String(n),vnode:e,index:t}})}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.renderThunk=i,t.groupByKey=o;var u=n(3),c=function(){function e(t){r(this,e),(0,u.extend)(this,{children:[]},t),this._lifecycleEventListeners=[],this.addLifecycleEventListener(this.component);var n=t.attributes||{};((0,u.isString)(n.key)||(0,u.isNumber)(n.key))&&(this.key=n.key),delete n.key,this.attributes=n,this.props=n}return a(e,[{key:"isSameType",value:function(e){return this.type===e.type&&(!this.isThunk()||((0,u.isFunction)(this.component)?this.renderFn===e.renderFn:(0,u.isUndefined)(e.component.selector)?this.component===e.component:this.component.selector===e.component.selector))}},{key:"isElement",value:function(){return this.type===e.Element}},{key:"isText",value:function(){return this.type===e.Text}},{key:"isThunk",value:function(){return this.type===e.Thunk}},{key:"addLifecycleEventListener",value:function(e){if(e){var t=this._lifecycleEventListeners;t.indexOf(e)===-1&&t.push(e)}}},{key:"_notifyListeners",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(0,u.each)(this._lifecycleEventListeners,function(t){var r=t[e];r&&r.apply(t,n)})}},{key:"beforeMount",value:function(){this._notifyListeners("beforeMount",this)}},{key:"mounted",value:function(e){this.elem=e,this._notifyListeners("mounted",this)}},{key:"unmounted",value:function(){this._notifyListeners("unmounted",this)}},{key:"updated",value:function(e,t){this.elem=e,this._notifyListeners("updated",this,t)}}]),e}();t.default=c,c.Text="text",c.Element="element",c.Empty="empty",c.Thunk="thunk"},function(e,t,n){"use strict";function r(e,t,n){var r=(0,b.getSvgAttributeNamespace)(t);return r?e.setAttributeNS(r,t,n):e.setAttribute(t,n)}function i(e){return(0,b.isSvgElement)(e)?document.createElementNS(b.namespaceMap.svg,e):document.createElement(e)}function o(e){return document.createTextNode(e)}function a(e,t,n){var r=n;(0,m.isUndefined)(r)&&(r=null),e.insertBefore(t,r)}function u(e,t){e.removeChild(t)}function c(e,t){e.appendChild(t)}function s(e,t){t.parentNode&&t.parentNode.replaceChild(e,t)}function l(e){for(var t=void 0;t=e.firstChild;)e.removeChild(t);return e}function f(e){return(0,m.isString)(e)?document.querySelector(e):e}function d(e){return e.tagName}function p(e,t){return e.childNodes[t]}function v(e){return e.childNodes}function h(e,t,n){e.removeEventListener(t,n)}function y(e,t,n){e.addEventListener(t,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.setAttribute=r,t.createElement=i,t.createTextNode=o,t.insertBefore=a,t.removeChild=u,t.appendChild=c,t.replaceNode=s,t.emptyElement=l,t.query=f,t.tagName=d,t.childNode=p,t.childNodes=v,t.removeEventListener=h,t.addEventListener=y;var m=n(3),b=n(11)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){var r=s.default[t];if(r&&(0,u.isFunction)(n))return void(0,l.removeEventListener)(e,r,n);switch(t){case"checked":case"disabled":case"selected":e[t]=!1;break;case"innerHTML":case"nodeValue":case"value":e[t]="";break;default:e.removeAttribute(t)}}function o(e,t,n,r){var o=s.default[t];if(n!==r){if(o)return(0,u.isFunction)(r)&&(0,l.removeEventListener)(e,o,r),void(0,l.addEventListener)(e,o,n);if(!a(n))return void i(e,t,r);switch(t){case"checked":case"disabled":case"innerHTML":case"nodeValue":e[t]=n;break;case"selected":if(e.selected=n,"OPTION"===e.tagName&&e.parentNode){var c=e.parentNode,f=Array.prototype.slice(c.options)||[];c.selectedIndex=f.indexOf(e)}break;case"value":e.value=n;break;default:(0,l.setAttribute)(e,t,n)}}}function a(e){return!(!(0,u.isNumber)(e)&&!(0,u.isString)(e))||!!(0,u.isBoolean)(e)&&e}Object.defineProperty(t,"__esModule",{value:!0}),t.removeAttribute=i,t.setAttribute=o;var u=n(3),c=n(15),s=r(c),l=n(18)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,r){if(r=r||{},n.parentComponent=r.component,t===n)return e;if(!(0,m.isUndefined)(t)&&(0,m.isUndefined)(n))return c(t),g.removeChild(e.parentNode,e),e;if(!(0,m.isNull)(t)&&(0,m.isNull)(n)||(0,m.isNull)(t)&&!(0,m.isNull)(n)||!t.isSameType(n))return l(e,t,n,r);var i=e;return n.isElement()?t.tagName!==n.tagName?i=l(e,t,n,r):(s(e,t,n),n.updated(e,t),a(e,t,n,r)):n.isText()?t.nodeValue!==n.nodeValue&&(0,f.setAttribute)(e,"nodeValue",n.nodeValue,t.nodeValue):n.isThunk()&&(i=u(e,t,n,r)),i}function a(e,t,n,r){function i(t,n,i,f){switch(t){case a:var d=(0,p.default)(i.vnode,r);g.insertBefore(e,d,g.childNode(e,f));break;case u:var v=g.childNode(e,n.index);o(v,n.vnode,i.vnode,r);break;case s:var h=g.childNode(e,n.index);o(h,n.vnode,i.vnode,r),g.insertBefore(e,h,g.childNode(e,f));break;case l:c(n.vnode),g.removeChild(e,m[n.index])}}var a=y.CREATE,u=y.UPDATE,s=y.MOVE,l=y.REMOVE,f=(0,v.groupByKey)(t.children),d=(0,v.groupByKey)(n.children),h=function(e){return e.key},m=Array.prototype.slice.call(g.childNodes(e));(0,y.default)(f,d,i,h)}function u(e,t,n,r){var i=t.thunkVnode,a=(0,v.renderThunk)(n,r);n.thunkVnode=a;var u=r.component;r.component=n.component;var c=o(e,i,a,r);return r.component=u,n.updated(c,t),c}function c(e){e.unmounted(),e.isThunk()?c(e.thunkVnode):e.children&&(0,m.each)(e.children,function(e){return c(e)})}function s(e,t,n){var r=t.attributes,i=n.attributes;for(var o in i)i[o]!==r[o]&&(0,f.setAttribute)(e,o,i[o],r[o]);for(var a in r)(0,m.has)(i,a)||(0,f.removeAttribute)(e,a,r[a])}function l(e,t,n,r){c(t);var i=(0,p.default)(n,r);return g.replaceNode(i,e),i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,t.patchChildren=a;var f=n(19),d=n(32),p=i(d),v=n(17),h=n(21),y=r(h),m=n(3),b=n(18),g=r(b)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r){function i(e,t){return r(e)===r(t)}for(var u=0,p=0,v=e.length-1,h=t.length-1,y=e[u],m=t[p];u<=v&&p<=h&&i(y,m);)n(l,y,m,p),y=e[++u],m=t[++p];if(!(p>h&&u>v)){for(var b=e[v],g=t[h],_=0;u<=v&&p<=h&&i(y,g);)n(f,y,g,v-_+1),y=e[++u],g=t[--h],++_;for(;v>=u&&p<=h&&i(m,b);)n(f,b,m,p),b=e[--v],m=t[++p],--_;for(;v>=u&&h>=p&&i(b,g);)n(l,b,g,h),b=e[--v],g=t[--h];if(u>v)for(;p<=h;)n(s,null,m,p),m=t[++p];else if(p>h)for(;u<=v;)n(d,y),y=e[++u];else{for(var k=0,E=null,w=u-_,A=u,M=new c.default(v-u),O=o(e,u,v+1,r);p<=h;m=t[++p]){var T=O[r(m)];(0,a.isUndefined)(T)?(n(s,null,m,w++),++k):u!==T?(M.setBit(T-A),n(f,e[T],m,w++)):E=p}null!==E&&(M.setBit(0),n(f,e[u],t[E],E));for(var j=e.length-t.length+k,C=0;C<j;y=e[++u])M.getBit(u-A)||(n(d,y),++C)}}}function o(e,t,n,r){for(var i={},o=t;o<n;++o)i[r(e[o])]=o;return i}Object.defineProperty(t,"__esModule",{value:!0}),t.REMOVE=t.MOVE=t.UPDATE=t.CREATE=void 0;var a=n(3),u=n(6),c=r(u),s=0,l=1,f=2,d=3;t.default=i,t.CREATE=s,t.UPDATE=l,t.MOVE=f,t.REMOVE=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return r=r.reduce(o,[]),(0,a.isFunction)(e)?new c.default({type:c.default.Thunk,renderFn:e,attributes:t,children:r,component:e}):(0,a.isObject)(e)?new c.default({type:c.default.Thunk,renderFn:e.render,attributes:t,children:r,component:e}):new c.default({type:c.default.Element,tagName:e,attributes:t,children:r})}function o(e,t){(0,a.isUndefined)(t)&&(t="undefined",(0,a.warn)("Node value is undefined"));var n;return n=(0,a.isString)(t)||(0,a.isNumber)(t)?new c.default({type:c.default.Text,nodeValue:t}):(0,a.isNull)(t)?new c.default({type:c.default.Empty}):Array.isArray(t)?t.reduce(o,[]):t,e.concat(n)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(3),u=n(17),c=r(u)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){var e=u.patch(r());(0,a.appendChild)(d,e)}function n(e){var t={};return(0,o.each)(e,function(e,n){var i=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.apply(void 0,[r()].concat(n))};t[n]=i}),t}function r(){return(0,o.extend)({model:i.getModel(),dispatch:p,component:u},f)}var i=void 0,u=void 0,f=void 0,d=void 0,p=function(e){return i.dispatch(e)};d=e.elem&&(0,a.query)(e.elem),e.template||(e.template=d.innerHTML),(0,a.emptyElement)(d),e.isContainer=!0,u=(0,l.createComponent)(e),f={},(0,o.isFunction)(e.update)||(f=(0,s.createActionCreators)((0,o.getKeys)(e.update)),f=(0,s.bindActionCreators)(f,p));var v=e.update||{};return(0,o.isFunction)(v)||(v=n(v)),i=(0,c.default)(e.model,v),i.subscribe(function(){t()}),t(),(0,o.extend)({elem:d,component:u,update:t,getModel:function(){return i.getModel()}},f)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(3),a=n(18),u=n(24),c=r(u),s=n(26),l=n(1)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(25),o=r(i);t.default=o.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){var n=t||a.noop;return(0,a.isFunction)(n)||(n=(0,u.createModelUpdater)(t)),new c(e,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.Store=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=i;var a=n(3),u=n(26),c=t.Store=function(){function e(t,n){r(this,e),this.model=t,this.modelUpdater=n,this.listeners=[]}return o(e,[{key:"getModel",value:function(){return this.model}},{key:"dispatch",value:function(e){var t=this.modelUpdater,n=this.model;this.model=t(n,e),this.listeners.forEach(function(e){e()})}},{key:"subscribe",value:function(e){if(!(0,a.isFunction)(e))throw new Error("Invalid argument: listener needs to be a function");var t=this.listeners;return t.push(e),function(){var n=t.indexOf(e);n>=0&&t.splice(n,1)}}}]),e}()},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){return function(){return t(e.apply(void 0,arguments))}}function o(e,t){if(!(0,s.isObject)(e)||(0,s.isNull)(e))throw Error("actions must be an object");for(var n={},r=(0,s.getKeys)(e),o=0;o<r.length;o++){var a=r[o];n[a]=i(e[a],t)}return n}function a(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return{type:e,params:n}}}function u(e){var t={};return(0,s.each)(e,function(e){if((0,s.has)(t,e))throw new Error("Duplicated action type found in"+e);t[e]=a(e)}),t}function c(e){return function(t,n){var i=t;if((0,s.has)(e,n.type)){var o=e[n.type];i=o.apply(void 0,r(n.params).concat([t]))}return i}}Object.defineProperty(t,"__esModule",{value:!0}),t.bindActionCreator=i,t.bindActionCreators=o,t.createActionCreator=a,t.createActionCreators=u,t.createModelUpdater=c;var s=n(3)},,function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){n(this,e)}return r(e,[{key:"updateRef",value:function(e,t){var n=t.parentComponent.refs;n||(n=t.parentComponent.refs={}),this._refName&&delete n[this._refName],e&&(n[e]=t.component||t.elem,this._refName=e)}},{key:"attached",value:function(e,t){this.updateRef(e.value,t)}},{key:"updated",value:function(e,t){this.updateRef(e.value,t)}},{key:"detached",value:function(e){this.updateRef(null,e)}}]),e}();t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){function n(e){var n=this;this._options=e;var i=e.props||{};this._propsSpec={},(0,p.isArray)(i)?(0,p.each)(i,function(e){n._propsSpec[e]=!0}):this._propsSpec=i,r.call(this,t)}var r=void 0;return r=(0,p.isFunction)(e)?e:e.class||p.noop,n.prototype=Object.create(r.prototype,{constructor:n}),new n(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.DirectiveHandler=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.createDirective=o;var u=n(28),c=r(u),s=n(30),l=r(s),f=n(34),d=r(f),p=n(3),v=n(31),h=["class","style"],y={ref:c.default,style:l.default,class:d.default};(0,p.each)(y,function(e,t){return(0,v.registerDirective)(t,{class:e,isBuildIn:!0})});var m={ATTACHED:"attached",UPDATED:"updated",DETACHED:"detached"};t.DirectiveHandler=function(){function e(){i(this,e)}return a(e,[{key:"_parseDirectives",value:function(e){var t={};return(0,p.each)(e||[],function(e,n){if(!(h.indexOf(n)>=0)){var r=n.split("."),i=r[0];r.shift(),((0,v.isRegistered)(i)||(0,v.isRegistered)((0,p.camelize)(i)))&&(t[n]={name:i,value:e,args:r})}}),t}},{key:"_createDirective",value:function(e){var t=(0,v.getComponent)(e.name),n=o(t,e);return n.binding=e,n}},{key:"_callback",value:function(e,t){var n=e[t];if(n){for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];n.apply(e,i)}}},{key:"beforeMount",value:function(e){var t=this;e.directives={},(0,p.each)(this._parseDirectives(e.attributes),function(n,r){var i=t._createDirective(n);e.directives[r]=i,delete e.attributes[r]})}},{key:"mounted",value:function(e){var t=this;(0,p.each)(e.directives||{},function(n){t._callback(n,m.ATTACHED,n.binding,e)})}},{key:"updated",value:function(e,t){var n=this,r=this._parseDirectives(e.attributes),i=t.directives,o={};(0,p.each)(r,function(r,a){var u=i[a];u?(u.binding=r,o[a]=u,n._callback(u,m.UPDATED,r,e,t)):(o[a]=n._createDirective(r),n._callback(u,m.ATTACHED,r,e))}),(0,p.each)(i,function(e,r){o[r]||n._callback(e,m.DETACHED,t)}),e.directives=o}},{key:"unmounted",value:function(e){var t=this;(0,p.each)(e.directives,function(n){t._callback(n,m.DETACHED,e)})}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),a=function(){function e(){r(this,e);
}return i(e,[{key:"updateStyle",value:function(e,t){if(0===e.args.length)throw new Error("Invalid style binding");this.clearStyle(t);var n={};if("*"===e.args[0])n=e.value;else{var r=e.args[0];n[r]=e.value}(0,o.each)(n,function(e,n){t.style[n]=e}),this.style=n}},{key:"clearStyle",value:function(e){this.style&&(0,o.each)(this.style,function(t,n){e.style.setProperty(n,"")})}},{key:"attached",value:function(e,t){this.updateStyle(e,t.elem)}},{key:"updated",value:function(e,t){this.updateStyle(e,t.elem,this.style)}},{key:"detached",value:function(e){this.clearStyle(e.elem)}}]),e}();t.default=a},function(e,t,n){"use strict";function r(){(0,s.each)(l,function(e,t){e.isBuildIn||delete l[t]})}function i(e,t,n){return l[e]&&(0,s.warn)("Component "+e+" is already registered"),t.isContainer=n,t.selector=e,l[e]=t,t}function o(e,t){return i(e,t,!0)}function a(e,t){(0,s.isFunction)(t)&&(t={class:t});var n=i(e,t);return n.isDirective=!0,n}function u(e){return(0,s.isString)(e)&&l[e]}function c(e){return!!u(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.clearRegistry=r,t.registerComponent=i,t.registerContainer=o,t.registerDirective=a,t.getComponent=u,t.isRegistered=c;var s=n(3),l={}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){t=t||{};var n;switch(e.parentComponent=t.component,e.beforeMount(),e.type){case f.default.Element:n=u(e,t);break;case f.default.Empty:n=s();break;case f.default.Text:n=c(e);break;case f.default.Thunk:n=a(e,t)}return e.mounted(n),n}function a(e,t){e.thunkVnode=(0,l.renderThunk)(e,t);var n=t.component;t.component=e.component;var r=o(e.thunkVnode,t);return t.component=n,r}function u(e,t){var n=e.tagName,r=e.children,i=e.attributes,a=v.createElement(n);for(var u in i)(0,h.setAttribute)(a,u,i[u]);return r.forEach(function(e){(0,d.isNull)(e)||(0,d.isUndefined)(e)||v.appendChild(a,o(e,t))}),a}function c(e){var t=(0,d.isNumber)(e.nodeValue)||(0,d.isString)(e.nodeValue)?e.nodeValue:"";return v.createTextNode(t)}function s(){return v.createElement("noscript")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var l=n(17),f=i(l),d=n(3),p=n(18),v=r(p),h=n(19)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(31);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var i=n(1);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})})},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(){for(var e=[],t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return(0,s.each)(n,function(t){(0,s.isString)(t)||(0,s.isNumber)(t)?e.push(t):(0,s.isArray)(t)?Array.prototype.push.apply(e,o.apply(null,t)):(0,s.isObject)(t)&&(0,s.each)(t,function(t,n){t&&e.push(n)})}),e}function a(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];0!==n.length&&(e.classList?(0,s.each)(n,function(t){return e.classList.add(t)}):!function(){var t=e.className.split(/\s+/);(0,s.each)(n,function(e){e=e.trim(),t.indexOf(e)===-1&&t.push(e)}),e.className=t.join(" ")}())}function u(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n)if(e.classList)(0,s.each)(n,function(t){return e.classList.remove(t)});else{var i=e.className.split(/\s+/);e.className=i.filter(function(e){return n.indexOf(e.trim())===-1}).join(" ")}}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(3),l=function(){function e(){i(this,e)}return c(e,[{key:"updateClasses",value:function(e,t){if(0===e.args.length)throw new Error("Invalid class binding");var n={};"*"===e.args[0]?(n=e.value,(0,s.isString)(n)&&(n=n.split(/\s+/))):n[e.args[0]]=e.value,u.apply(void 0,[t].concat(r(this._oldClasses||[])));var i=o(n);a.apply(void 0,[t].concat(r(i))),this._oldClasses=i}},{key:"attached",value:function(e,t){this.updateClasses(e,t.elem)}},{key:"updated",value:function(e,t){this.updateClasses(e,t.elem)}},{key:"detached",value:function(e){u.apply(void 0,[e.elem].concat(r(this._oldClasses||[])))}}]),e}();t.default=l}])});